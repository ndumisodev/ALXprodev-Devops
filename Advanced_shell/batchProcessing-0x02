#!/bin/bash

POKEMONS=("bulbasaur" "ivysaur" "venusaur" "charmander" "charmeleon")
DIR="pokemon_data"
mkdir -p "$DIR"

for POKE in "${POKEMONS[@]}"; do
    echo "Fetching data for $POKE..."
    HTTP_STATUS=$(curl -s -o "$DIR/$POKE.json" -w "%{http_code}" "https://pokeapi.co/api/v2/pokemon/$POKE")

    if [ "$HTTP_STATUS" -eq 200 ]; then
        echo "Saved data to $DIR/$POKE.json âœ…"
    else
        echo "[$(date)] Failed to fetch $POKE. Status: $HTTP_STATUS" >> errors.txt
    fi
    sleep 2  # Delay to prevent rate-limiting
done
