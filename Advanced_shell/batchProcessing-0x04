#!/bin/bash

POKEMONS=("bulbasaur" "ivysaur" "venusaur" "charmander" "charmeleon")
DIR="pokemon_data"
mkdir -p "$DIR"

fetch_pokemon() {
    local POKE=$1
    echo "Fetching $POKE..."
    HTTP_STATUS=$(curl -s -o "$DIR/$POKE.json" -w "%{http_code}" "https://pokeapi.co/api/v2/pokemon/$POKE")
    if [ "$HTTP_STATUS" -eq 200 ]; then
        echo "Saved data to $DIR/$POKE.json "
    else
        echo "[$(date)] Failed to fetch $POKE. Status: $HTTP_STATUS" >> errors.txt
    fi
}

for POKE in "${POKEMONS[@]}"; do
    fetch_pokemon "$POKE" &
done

wait  # Wait for all background processes to finish
echo "All Pok√©mon fetched."
